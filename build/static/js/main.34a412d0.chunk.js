(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{60:function(e,t,s){},61:function(e,t,s){},62:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(28),n=s.n(c),r=s(6),o=s(4),i=s(2),l=s(0);var d=function(e){let{isAuthenticated:t,setIsAuthenticated:s}=e;return Object(l.jsx)("header",{children:Object(l.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark sticky-top",children:[Object(l.jsx)("div",{className:"navbar-brand container",children:"ToDoList App"}),Object(l.jsxs)("ul",{className:"navbar-nav justify-content-end container",children:[Object(l.jsx)("li",{className:"nav-link px-4",children:Object(l.jsx)(o.b,{to:"/",children:"Home"})}),t&&Object(l.jsx)("li",{className:"nav-link px-4",children:Object(l.jsx)(o.b,{to:"/todo",children:"View Todo"})}),t&&Object(l.jsx)("li",{className:"nav-link px-4",children:Object(l.jsx)(o.b,{to:"/add",children:"Add Todo"})}),!t&&Object(l.jsx)("li",{className:"nav-link px-4",children:Object(l.jsx)(o.b,{to:"/signin",children:"Signin"})}),!t&&Object(l.jsx)("li",{className:"nav-link px-4",children:Object(l.jsx)(o.b,{to:"/signup",children:"Signup"})}),t&&Object(l.jsx)("li",{className:"nav-link px-4",children:Object(l.jsx)(o.b,{to:"/signout",children:"Signout"})}),Object(l.jsx)("li",{className:"nav-link px-4",children:Object(l.jsx)(o.b,{to:"/about",children:"About"})})]})]})})};function j(){return Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("h1",{children:"About"}),Object(l.jsx)("p",{children:"This is todo list app version 1.0.0"})]})}var b=s(5),h=s.n(b),u=s(13),p=s.n(u);var O=function(e){let{isAuthenticated:t,setIsAuthenticated:s}=e;const[c,n]=Object(a.useState)([]),[r,d]=Object(a.useState)(!1),[j,b]=Object(a.useState)(""),[u,O]=Object(a.useState)(1),[m,x]=Object(a.useState)(5),[g,v]=Object(a.useState)(u),[f,N]=Object(a.useState)(m),[S,A]=Object(a.useState)("All");let y=Object(i.f)();return Object(a.useEffect)((()=>{t||y.push("/")}),[t,y]),Object(a.useEffect)((()=>{(async()=>{let e=null;try{let t="http://localhost:3001/api/todo/".concat(u-1,"/").concat(m);"Completed"===S?t="http://localhost:3001/api/todo/".concat(u-1,"/").concat(m,"?isCompleted=true"):"Not Completed"===S&&(t="http://localhost:3001/api/todo/".concat(u-1,"/").concat(m,"?isCompleted=false")),e=await h.a.get(t,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}})}catch(t){return void(t.response?b(t.response.data.message):b("Error: something happened"))}b(""),n(e.data)})()}),[r,u,m,S]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{className:"text-center",children:"Todo List"}),""===j?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-danger",role:"alert",children:j}),Object(l.jsx)("center",{children:Object(l.jsxs)("div",{className:"col-6 offset-8",children:[Object(l.jsx)("label",{children:"Show"}),Object(l.jsxs)("select",{value:S,onChange:e=>A(e.target.value),children:[Object(l.jsx)("option",{value:"All",children:"All"}),Object(l.jsx)("option",{value:"Completed",children:"Completed"}),Object(l.jsx)("option",{value:"Not Completed",children:"NotCompleted"})]})]})}),Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Title"}),Object(l.jsx)("th",{children:"Target Date"}),Object(l.jsx)("th",{children:"Is Completed?"}),Object(l.jsx)("th",{children:"Mark Completed"}),Object(l.jsx)("th",{children:"Update"}),Object(l.jsx)("th",{children:"Delete"})]})}),Object(l.jsx)("tbody",{children:c.map((e=>Object(l.jsxs)("tr",{className:e.isCompleted?"completed":"",children:[Object(l.jsx)("td",{children:e.title}),Object(l.jsx)("td",{children:p()(e.targetDate).format("ll")}),Object(l.jsx)("td",{children:e.isCompleted.toString()}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{className:"btn btn-success",onClick:()=>(async e=>{try{await h.a.put("http://localhost:3001/api/todo/".concat(e,"/markcomplete"),{},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}})}catch(t){return void(t.response?b(t.response.data.message):b("Error: something happened"))}b(""),d(!r)})(e.id),children:"Mark Completed"})}),Object(l.jsx)("td",{children:Object(l.jsx)(o.b,{to:{pathname:"/update/".concat(e.id)},children:Object(l.jsx)("button",{className:"btn btn-primary",children:"Update"})})}),Object(l.jsx)("td",{children:Object(l.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{try{await h.a.delete("http://localhost:3001/api/todo/".concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}})}catch(t){return void(t.response?b(t.response.data.message):b("Error: something happened"))}b(""),d(!r)})(e.id),children:"Delete"})})]},e.id)))})]}),Object(l.jsx)("center",{children:Object(l.jsxs)("div",{className:"input-group col-xl-3 col-md-4 col-sm-5 col-6",children:[Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("span",{className:"input-group-text",id:"",children:"Todo per page: "})}),Object(l.jsx)("input",{className:"form-control text-center",type:"number",value:f,onChange:e=>N(e.target.value),onKeyPress:e=>{var t;"Enter"===e.key&&((t=e.target.value)>=1?x(parseInt(t)):(x(1),N(1)))}})]})}),Object(l.jsx)("div",{children:Object(l.jsx)("center",{children:Object(l.jsxs)("div",{className:"input-group col-lg-4 col-md-6 col-sm-8 col-9",children:[Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{u>1&&(O(u-1),v(u-1))},children:"Previous Page"})}),Object(l.jsx)("input",{className:"form-control text-center",type:"number",value:g,onChange:e=>v(e.target.value),onKeyPress:e=>{var t;"Enter"===e.key&&((t=e.target.value)>=1?O(parseInt(t)):(O(1),v(1)))}}),Object(l.jsx)("div",{className:"input-group-append",children:Object(l.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>(O(u+1),void v(u+1)),children:"Next Page"})})]})})})]})};var m=function(e){let{isAuthenticated:t,setIsAuthenticated:s}=e;const[c,n]=Object(a.useState)(""),[r,o]=Object(a.useState)(""),[d,j]=Object(a.useState)(""),[b,u]=Object(a.useState)("");let p=Object(i.f)();return Object(a.useEffect)((()=>{t||p.push("/")}),[t,p]),Object(a.useEffect)((()=>{j("")}),[c,r]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await h.a.post("http://localhost:3001/api/todo",{title:c,targetDate:r},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}})}catch(t){return j(""),void(t.response?u(t.response.data.message):u("Error: something happened"))}n(""),o(""),u(""),j("Todo successfully created")},children:[Object(l.jsx)("h1",{children:"Add New Todo"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Title"}),Object(l.jsx)("input",{value:c,onChange:e=>n(e.target.value),placeholder:"Title",className:"form-control"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Target Date"}),Object(l.jsx)("input",{value:r,type:"date",onChange:e=>o(e.target.value),className:"form-control"})]}),Object(l.jsx)("button",{className:"btn btn-primary",children:"Add Todo"})]}),""===d?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-success",role:"alert",children:d}),""===b?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-danger",role:"alert",children:b})]})};var x=function(e){let{isAuthenticated:t,setIsAuthenticated:s,match:c}=e;const[n,r]=Object(a.useState)(""),[o,d]=Object(a.useState)(""),[j,b]=Object(a.useState)(""),[u,O]=Object(a.useState)("");let m=Object(i.f)();return Object(a.useEffect)((()=>{t||m.push("/")}),[t,m]),Object(a.useEffect)((()=>{(async()=>{let e=null;try{e=await h.a.get("http://localhost:3001/api/todo/".concat(c.params.id),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}})}catch(t){return b(""),void(t.response?O(t.response.data.message):O("Error: something happened"))}O(""),r(e.data.title),d(p()(e.data.targetDate).format("YYYY-MM-DD"))})()}),[c.params.id]),Object(a.useEffect)((()=>{b("")}),[n,o]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await h.a.put("http://localhost:3001/api/todo/".concat(c.params.id),{title:n,targetDate:o},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}})}catch(s){return b(""),void(s.response?O(s.response.data.message):O("Error: something happened"))}var t;O(""),b("Todo successfully updated"),await(t=1e3,new Promise((e=>setTimeout(e,t)))),m.push("/todo")},children:[Object(l.jsx)("h1",{children:"Update Todo"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Title"}),Object(l.jsx)("input",{value:n,onChange:e=>r(e.target.value),className:"form-control"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Target Date"}),Object(l.jsx)("input",{value:o,type:"date",onChange:e=>d(e.target.value),className:"form-control"})]}),Object(l.jsx)("button",{className:"btn btn-primary",children:"Update Todo"})]}),""===j?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-success",role:"alert",children:j}),""===u?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-danger",role:"alert",children:u})]})};var g=function(e){let{isAuthenticated:t,setIsAuthenticated:s}=e;const[c,n]=Object(a.useState)(""),[r,o]=Object(a.useState)(""),[d,j]=Object(a.useState)(""),[b,u]=Object(a.useState)("");let p=Object(i.f)();return Object(a.useEffect)((()=>{j("")}),[c,r]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await h.a.post("http://localhost:3001/api/auth/signin",{username:c,password:r});sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("name",e.data.username),s(!0)}catch(a){return j(""),a.response?u(a.response.data.message):u("Error: something happened"),void s(!1)}var t;n(""),o(""),u(""),j("Sign in successful"),await(t=1e3,new Promise((e=>setTimeout(e,t)))),p.push("/")},children:[Object(l.jsx)("h1",{children:"Sign In"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Username"}),Object(l.jsx)("input",{value:c,onChange:e=>n(e.target.value),placeholder:"Username",className:"form-control"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{value:r,type:"password",onChange:e=>o(e.target.value),placeholder:"Password",className:"form-control"})]}),Object(l.jsx)("button",{className:"btn btn-primary",children:"Sign In"})]}),""===d?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-success",role:"alert",children:d}),""===b?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-danger",role:"alert",children:b})]})};var v=function(e){let{isAuthenticated:t,setIsAuthenticated:s}=e;const[c,n]=Object(a.useState)(""),[r,o]=Object(a.useState)(""),[d,j]=Object(a.useState)(""),[b,u]=Object(a.useState)("");let p=Object(i.f)();return Object(a.useEffect)((()=>{j("")}),[c,r]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await h.a.post("http://localhost:3001/api/auth/signup",{username:c,password:r});sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("name",e.data.username),s(!0)}catch(a){return j(""),a.response?u(a.response.data.message):u("Error: something happened"),void s(!1)}var t;n(""),o(""),u(""),j("Sign up successful"),await(t=1e3,new Promise((e=>setTimeout(e,t)))),p.push("/")},children:[Object(l.jsx)("h1",{children:"Sign Up"}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Username"}),Object(l.jsx)("input",{value:c,onChange:e=>n(e.target.value),placeholder:"Username",className:"form-control"})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{value:r,type:"password",onChange:e=>o(e.target.value),placeholder:"Password",className:"form-control"})]}),Object(l.jsx)("button",{className:"btn btn-primary",children:"Sign Up"})]}),""===d?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-success",role:"alert",children:d}),""===b?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-danger",role:"alert",children:b})]})};var f=function(e){let{isAuthenticated:t,setIsAuthenticated:s}=e,c=Object(i.f)();return Object(a.useEffect)((()=>{sessionStorage.removeItem("token"),sessionStorage.removeItem("name"),s(!1),c.push("/")}),[c,s]),Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)("h1",{children:"Successfully sign out"})})};function N(e){let{isAuthenticated:t,setIsAuthenticated:s}=e;const[c,n]=Object(a.useState)(""),[r,o]=Object(a.useState)(0),[i,d]=Object(a.useState)(0),[j,b]=Object(a.useState)("");return Object(a.useEffect)((()=>{t?(!async function(){try{const e=await h.a.get("http://localhost:3001/api/todo/count",{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}});d(e.data.count)}catch(e){n(""),e.response?b(e.response.data.message):b("Error: something happened")}}(),async function(){try{const e=await h.a.get("http://localhost:3001/api/todo/count?isCompleted=false",{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("token"))}});o(e.data.count)}catch(e){n(""),e.response?b(e.response.data.message):b("Error: something happened")}}(),n("Welcome, ".concat(sessionStorage.getItem("name"),". You have ").concat(r," todo not completed out of ").concat(i," todo."))):n("Please sign in to continue")}),[t,i,r]),Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("h1",{children:"Todo List Application"}),""===j?Object(l.jsx)("div",{}):Object(l.jsx)("div",{className:"alert alert-danger",role:"alert",children:j}),c]})}function S(){return Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("h1",{children:"Not Found"}),Object(l.jsx)("p",{children:"Requested page not found"})]})}s(60),s(61);var A=function(){const[e,t]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{null!==sessionStorage.getItem("token")&&t(!0)}),[]),Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{isAuthenticated:e,setIsAuthenticated:t}),Object(l.jsx)("div",{children:Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/",render:s=>Object(l.jsx)(N,Object(r.a)(Object(r.a)({},s),{},{isAuthenticated:e,setIsAuthenticated:t}))}),Object(l.jsx)(i.a,{exact:!0,path:"/signin",render:s=>Object(l.jsx)(g,Object(r.a)(Object(r.a)({},s),{},{isAuthenticated:e,setIsAuthenticated:t}))}),Object(l.jsx)(i.a,{exact:!0,path:"/signup",render:s=>Object(l.jsx)(v,Object(r.a)(Object(r.a)({},s),{},{isAuthenticated:e,setIsAuthenticated:t}))}),Object(l.jsx)(i.a,{exact:!0,path:"/signout",render:s=>Object(l.jsx)(f,Object(r.a)(Object(r.a)({},s),{},{isAuthenticated:e,setIsAuthenticated:t}))}),Object(l.jsx)(i.a,{exact:!0,path:"/todo",render:s=>Object(l.jsx)(O,Object(r.a)(Object(r.a)({},s),{},{isAuthenticated:e,setIsAuthenticated:t}))}),Object(l.jsx)(i.a,{exact:!0,path:"/add",render:s=>Object(l.jsx)(m,Object(r.a)(Object(r.a)({},s),{},{isAuthenticated:e,setIsAuthenticated:t}))}),Object(l.jsx)(i.a,{exact:!0,path:"/update/:id",render:s=>Object(l.jsx)(x,Object(r.a)(Object(r.a)({},s),{},{isAuthenticated:e,setIsAuthenticated:t}))}),Object(l.jsx)(i.a,{exact:!0,path:"/about",component:j}),Object(l.jsx)(i.a,{component:S})]})})]})})};n.a.render(Object(l.jsx)(A,{}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.34a412d0.chunk.js.map